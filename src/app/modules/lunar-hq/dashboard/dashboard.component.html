<app-why-header-side-nav
  [activeTab]="'DASHBOARD'"
  [profileObj]="setHeaderValue()"
  (profileClick)="navigateToProfile()">
  <section class="pd-bottom-48" id="dashboardContainer" #dashboardContainer>
    <div class="d-flex">
      <div *ngIf="profileObj?.discordProfileImage">
        <img class="discord-img-wrapper" [src]="profileObj?.discordProfileImage" alt="" imgFallback>
      </div>
      <div class="pd-left-16">
        <div>
          <label class="app-why-lbl f28 light ft-bold">{{profileObj?.discordName}}</label>
        </div>
        <div class="pd-top-8">
          <label class="app-why-lbl f16 light-50 ft-lato">{{profileObj?.discordStatus}}</label>
        </div>
      </div>
    </div>

    <div class="d-flex pd-top-16">
      <div class="link-wallet-container">
        <div class="d-flex justify-content-end">
          <label class="app-why-lbl ft-lato light-50 text-uppercase">linked</label>
        </div>
        <div class="d-flex justify-content-end">
          <label class="app-why-lbl ft-lato light-50 text-uppercase">wallets</label>
        </div>
      </div>
      <div class="pd-left-16 d-flex align-items-center"
           *ngFor="let walletObj of profileObj?.accountWallets; let isLast = last ">
        <img [src]="walletObj?.blockchainImageUrl" alt="blockchainImage" class="app-why-icon ic20 mr-right-8">
        <label class="app-why-lbl f14 ft-lato light-50">
          {{walletObj?.address | longTextPipe}}
        </label>
        <div [ngClass]="{'wallet-divider': !isLast}"></div>
      </div>
    </div>

    <div class="pd-top-16">
      <app-why-cta-three
        [leftIconType]="'cog-outline'"
        [btnLabel]="'MANAGE PROFILE'"
        (click)="navigateToProfile()">
      </app-why-cta-three>
    </div>

    <div class="pd-top-40 pd-bottom-40">
      <div class="horizontal-divider light-50"></div>
    </div>

    <div class="pd-top-24 d-flex">
      <div *ngFor="let obj of userDataObj" class="tile-wrapper">
        <div class="tile-container">
          <div class="app-why-lbl f28 ft-bold success">
            {{obj.value[0]}} <span *ngIf="obj.value[1] >=0" class="light-50">of {{obj.value[1]}}</span>
          </div>
          <div class="app-why-lbl ft-lato  success">
            {{obj.label}}
          </div>
        </div>
      </div>
    </div>

    <article class="mr-top-8 d-flex mr-bottom-80">
      <article class="server-container pd-top-24 pd-lr-40">

        <div class="d-flex justify-content-between align-items-center">
          <div>
            <label class="app-why-lbl f16 ft-bold light">YOUR SERVERS [{{profileObj?.discordServers.length}}]</label>
          </div>
          <div>
            <app-why-cta-three
              [btnClass]="cssClass.cta3PrimaryNorm"
              [iconClass]="cssClass.cta3Primary14Icon"
              [iconType]="'chevron-forward-outline'"
              (click)="navigateToServers()"
              [btnLabel]="'ADMIN'"></app-why-cta-three>
          </div>
        </div>

        <div class="mr-top-8 horizontal-divider light-20 mr-bottom-48"></div>

        <div class="d-flex justify-content-between pd-bottom-24" *ngFor="let serverObj of profileObj?.discordServers">
          <div class="d-flex align-items-center">
            <div class="pd-left-4">
              <img class="server-logo-container" [src]="serverObj?.discordServerImage" alt="server-logo" imgFallback/>
            </div>
            <div class="pd-left-20">
              <label class="app-why-lbl f16 light-70">{{serverObj?.discordServerName}}</label>
            </div>
            <div class="pd-left-4">
              <ion-icon *ngIf="serverObj?.userIsAdmin" class="app-why-icon ic10 light-70" name="key"></ion-icon>
              <ion-icon *ngIf="!serverObj?.userIsAdmin && !serverObj?.userOwnsLicense" class="app-why-icon ic10 error"
                        name="warning"></ion-icon>
            </div>
          </div>
          <div class="d-flex align-items-center">
            <app-why-cta-three
              [parentClass]="'light-70-hover'"
              [btnClass]="cssClass.cta3Light50F12"
              [iconClass]="cssClass.cta3Light5014Icon"
              [iconType]="'chevron-forward-circle-outline'"
              [btnLabel]="'View'"></app-why-cta-three>
          </div>
        </div>
      </article>

      <article class="rule-container mr-left-8 pd-top-24 pd-lr-40">

        <div class="d-flex justify-content-between align-items-center">
          <div>
            <label class="app-why-lbl f16 ft-bold light">GRAVIDAO Discord rules [{{profileObj?.rules.length}}]</label>
          </div>
          <div>
            <app-why-cta-three
              [btnClass]="cssClass.cta3PrimaryNorm"
              [iconClass]="cssClass.cta3Primary14Icon"
              [iconType]="'chevron-forward-outline'"
              [btnLabel]="'ADMIN'"></app-why-cta-three>
          </div>
        </div>

        <div class="mr-top-8 horizontal-divider light-20 mr-bottom-16"></div>

        <div class="d-flex mr-bottom-16">
          <div class="width-270"><label class="app-why-lbl light-50 ft-lato text-uppercase">Rule name</label></div>
          <div class="width-94"><label class="app-why-lbl light-50 ft-lato text-uppercase">Population</label></div>
          <div class="width-178"><label class="app-why-lbl light-50 ft-lato text-uppercase">Chain</label></div>
          <div class="width-94"></div>
        </div>

        <div class="server-list-wrapper">
          <div class="rule-details-wrapper" *ngFor="let ruleObj of profileObj?.rules">
            <div class="width-270 pd-left-16"><label class="app-why-lbl f16 light ft-bold">{{ruleObj?.roleName}}</label>
            </div>
            <div class="vertical-divider ht42 light-20"></div>
            <div class="width-94 pd-left-15"><label class="app-why-lbl f16 light ft-bold">{{ruleObj?.quantity}}</label>
            </div>
            <div class="vertical-divider ht42 light-20"></div>
            <div class="width-178 pd-left-15 d-flex justify-content-between">
              <div>
                <label class="app-why-lbl f16 light ft-bold">{{ruleObj?.blockchainName}}</label>
              </div>
              <div class="pd-right-15">
                <img class="chain-logo-container" [src]="ruleObj?.discordServerImage" alt="chain-logo">
              </div>
            </div>
            <div class="vertical-divider ht42 light-20"></div>
            <div class="pd-left-18 width-94">
              <app-why-cta-three
                [parentClass]="'light-70-hover'"
                [btnClass]="cssClass.cta3Light50F12"
                [iconClass]="cssClass.cta3Light5014Icon"
                [iconType]="'chevron-forward-outline'"
                [btnLabel]="'View'"></app-why-cta-three>
            </div>
          </div>
        </div>
        <div class="add-fade-effect">
        </div>
      </article>
    </article>

    <app-why-lunar-hq-recent-polls
      [currentDateTime]="currentDateTime"
      [pollArrayObj]="profileObj?.proposals"></app-why-lunar-hq-recent-polls>

    <app-why-lunar-hq-recent-announcements
      [announcementArrayObj]="profileObj?.announcements"
      class="mr-top-8"></app-why-lunar-hq-recent-announcements>

    <div class="mr-top-40 mr-bottom-80 show-cursor" (click)="goToTop()">
      <div class="text-center">
        <ion-icon class="app-why-icon ic16 light-70" name="chevron-up-outline"></ion-icon>
      </div>
      <div class="text-center">
        <span class="app-why-lbl light-70">BACK TO TOP</span>
      </div>
    </div>

  </section>
</app-why-header-side-nav>
